<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Resume Builder</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<div class="containers">
    <div>
      <div class="scroll-bars">
        <div class="form-scroll-area">
                <div class="progress-bar">
                    <div class="progress-step active" data-step="1">Contact</div>
                    <div class="progress-step" data-step="2">Experience</div>
                    <div class="progress-step" data-step="3">Education</div>
                    <div class="progress-step" data-step="4">Skills</div>
                    <div class="progress-step" data-step="5">Summary</div>
                    <div class="progress-step" data-step="6">Finalize</div>
                </div>
         
                <form id="resume-form">
                      <!-- Step 1: Contact --> 
                    <div class="step active " data-step="1">
                        <h1  class="fs-200 fw-bold font-family-primary clr-primary-400">Contacts</h1>
                          <div class="forms forms-1">
                              <div>
                                <label>First name</label>
                                <input type="text" id="firstName" placeholder="Kunihira" oninput="updatePreview()"/>
                              </div>
                              <div>
                                <label>Last name</label>
                                <input type="text" id="lastName" placeholder="Albert" oninput="updatePreview()"/>
                              </div>
                              <div> 
                                <label>Email</label>
                                <input type="email" id="email" placeholder="kjohnson@example.com" oninput="updatePreview()" />
                              </div>
                              <div>
                                <label>Phone</label>
                                <span class="input-group-text" id="basic-addon1">+256</span>
                                <input type="tel" id="phone" placeholder="0769243147" oninput="updatePreview()" />
                              </div>
                              <div class="desired">
                                <label>Desired job title</label>
                                <input type="text" id="jobTitle" placeholder="Accountant" oninput="updatePreview()" />
                              </div>
                          </div>
                    </div>
                      <!-- Step 2: Experience -->
                   <div class="step" data-step="2">
                      <h2  class="fs-200 fw-bold font-family-primary clr-primary-400">Experience</h2>
                      <p>Add your work experience</p>
                      <div id="experience-forms-container"></div>
                      <button type="button" id="add-experience-btn">Add Experience</button>
                   </div>
                      <!-- Step 3: Education -->
                    <div class="step" data-step="3">
                        <h2  class="fs-200 fw-bold font-family-primary clr-primary-400">Education</h2>
                        <p>Add your education details - even if you haven't graduated yet.</p>
                          <div id="education-forms-container"></div>
                            <button type="button" id="add-education-btn">Add Education</button> 
                    </div>
                      <!-- Step 4: Skills -->
                    <div class="step" data-step="4">
                        <h2  class="fs-200 fw-bold font-family-primary clr-primary-400">Skills</h2>
                        <p>Add your most relevant professional skills.</p>
                          <div>
                                        <!-- HARD SKILLS SECTION -->
                              <div class="skills-section">
                                  <h3>Hard Skills</h3>
                                  <div id="hard-skills-container"></div>
                                  <button type="button" onclick="addHardSkill()" id="add-hard-skill-btn">Add Hard Skill</button>

                                  <h3>Soft Skills</h3>
                                  <div id="soft-skills-container"></div>
                                  <button type="button" onclick="addSoftSkill()" id="add-soft-skill-btn">Add Soft Skill</button>
                              </div>
                        </div>  
                    </div>
                      <!-- Step 5: Summary -->
                    <div class="step" data-step="5">
                        <h2  class="fs-200 fw-bold font-family-primary clr-primary-400">Summary</h2>
                        <p>Write a short introduction that highlights your experience, key skills, and career goals.</p>
                         <div class="forms">
                            <textarea id="summary" placeholder="Professional summary" oninput="updatePreview()"></textarea>
                         </div> 
                    </div>
                      <!-- Step 6: Final -->
                    <div class="step" data-step="6">
                        <h2  class="fs-200 fw-bold font-family-primary clr-primary-400">Finalize</h2>
                        <p>Preview your resume on the right and click below to finish.</p>
                    </div>
                </form>
        </div>
                <div class="form-buttons">
                  <button type="button" onclick="prevStep()" class=" bg-clr-accent button | display-sm-none display-md-inline-flex" id="back-btn">Back</button>
                  <button type="button" onclick="nextStep()" class=" bg-clr-accent button | display-sm-none display-md-inline-flex" id="next-btn">Next</button>        
                  <button type="submit" class=" bg-clr-accent button | display-sm-none display-md-inline-flex" id="submit-btn">Download</button>
                  <!-- <button type="button" id="next-btn" onclick="nextStep()" class="step.active bg-clr-accent button | display-sm-none display-md-inline-flex" data-step="1">Next Experience</button>       -->
                </div>
      </div>
    </div>

    <div class="preview scroll-bar" id="resume-preview">
       
      <div class="resume">
        <div class="sidebar">
                <h4>DETAILS</h4>
                <ul>
                  <li id="preview-email"></li>
                  <li>ðŸ“ž <span id="preview-contact"></span></li>
                  
                </ul>

                <div id="hard-skills-preview">
                  <h4>Hard Skills</h4>
                </div>
                <div id="soft-skills-preview">
                  <h4>Soft Skills</h4>
                </div>
        </div>

        <div class="main-content">
                <h1 id="preview-name" class="fs-350 fw-bold font-family-primary clr-primary-400"></h1>
                <h4 id="preview-title"></h4>

                <div class="section">
                  <div class="section-title" >SUMMARY</div>
                  <p id="preview-summary-1">
                    Certified Administrative Professional with 6+ years of experience as an administrative assistant in the financial and investment industry. Seeking to leverage stellar organizational skills and extensive experience to join the Portland Financial team as a senior administrative assistant.
                  </p>
                </div>

               <div class="section" id="experience-preview">
                  <div class="section-title">WORK EXPERINCE</div>
                   <div class="preview-section">
                    <ul id="experience-preview-list"></ul>
                  </div>
               </div>

               <div class="section" id="education-preview">
                  <div class="section-title">Education</div>
                  <div class="preview-section">
                    <ul id="education-preview-list"></ul>
                  </div>
               </div>

               <div class="section">
                  <div class="section-title">Certifications</div>
                  <div class="certification">
                    <div class="cert-title">CPR/AED</div>
                    <div class="cert-meta">American Red Cross | Jan 2022</div>
                  </div>
                  <div class="certification">
                    <div class="cert-title">Certificate: Personal Assistant Specialist (CPAS)</div>
                    <div class="cert-meta">CPAS Certifications | May 2016</div>
                  </div>
                  <div class="certification">
                    <div class="cert-title">Certified Administrative Professional</div>
                    <div class="cert-meta">Administrative Professional Institute | Jul 2013</div>
                  </div>
               </div>
        </div>
      </div>
    </div>
</div>
<script>
    
  let currentStep = 1;
  const totalSteps = 6;

  function showStep(step) {
    // Hide all steps
    document.querySelectorAll('.step').forEach(stepDiv => {
      stepDiv.classList.remove('active');
    });

    // Show the current step
    const current = document.querySelector(`.step[data-step="${step}"]`);
    if (current) current.classList.add('active');

    // Update progress bar
    document.querySelectorAll('.progress-step').forEach(p => {
      const stepNum = parseInt(p.getAttribute('data-step'));
      p.classList.remove('active');
      if (stepNum === step) {
        p.classList.add('active');
      }
    });

    // Update button visibility
    updateButtonVisibility(step);
  }

  function updateButtonVisibility(step) {
    const backBtn = document.getElementById('back-btn');
    const nextBtn = document.getElementById('next-btn');
    const submitBtn = document.getElementById('submit-btn');

    if (step === 1) {
      backBtn.style.display = 'none';
      nextBtn.style.display = 'inline-block';
      submitBtn.style.display = 'none';
    } else if (step === totalSteps) {
      backBtn.style.display = 'inline-block';
      nextBtn.style.display = 'none';
      submitBtn.style.display = 'inline-block';
    } else {
      backBtn.style.display = 'inline-block';
      nextBtn.style.display = 'inline-block';
      submitBtn.style.display = 'none';
    }
  }

  function nextStep() {
    if (currentStep < totalSteps) {
      currentStep++;
      showStep(currentStep);
    }
  }

  function prevStep() {
    if (currentStep > 1) {
      currentStep--;
      showStep(currentStep);
    }
  }

  function get(id) {
    return document.getElementById(id)?.value || '';
  }

  function updatePreview() {
    document.getElementById("preview-name").textContent = `${get("firstName")} ${get("lastName")}`;
    document.getElementById("preview-title").textContent = get("jobTitle");
    document.getElementById("preview-contact").textContent = get("phone");
    document.getElementById("preview-email").textContent = get("email");
    document.getElementById("preview-expTitle").textContent = get("expTitle");
    document.getElementById("preview-expDate").textContent = `${get("startDate")} - ${get("endDate")}`;
    document.getElementById("preview-employer").textContent = `${get("employer")} , ${get("expLocation")}`;
    // document.getElementById("preview-expDescription").textContent = get("expDescription");
    // document.getElementById("preview-summary-1").textContent = get("summary");
    

  const expDesc = get("expDescription");
  const formattedDesc = expDesc
    .split('\n')
    .map(line => `<p>${line.trim()}</p>`)
    .join('');
    document.getElementById("preview-expDescription").innerHTML = formattedDesc;
    
  }
 
    
  document.getElementById("resume-form").addEventListener("submit", function(e) {
    e.preventDefault();
    alert("Resume completed!");
  });

  document.addEventListener('DOMContentLoaded', () => {
    showStep(currentStep);
  });

  let hardSkillCount = 0;
let softSkillCount = 0;

const hardSkillsContainer = document.getElementById("hard-skills-container");
const softSkillsContainer = document.getElementById("soft-skills-container");

document.getElementById("add-hard-skill-btn").addEventListener("click", () => {
  hardSkillCount++;

  const group = document.createElement("div");
  group.className = "hard-skill"; // match the class used for initial skill
  group.innerHTML = `
    <input type="text" id="hard-skill${hardSkillCount}" placeholder="e.g. JavaScript" class="hard-skill-name">
    <input type="range" id="hard-skill${hardSkillCount}-level" min="0" max="100" value="70" class="hard-skill-range">
    <button type="button" class="remove-hard-skill"><img src="IMAGES/trash.svg" alt=""></button>
  `;

  hardSkillsContainer.appendChild(group);

  // Add event listeners
  document.getElementById(`hard-skill${hardSkillCount}`).addEventListener("input", updateSkillsPreview);
  document.getElementById(`hard-skill${hardSkillCount}-level`).addEventListener("input", updateSkillsPreview);

  updateSkillsPreview();
});

document.getElementById("add-soft-skill-btn").addEventListener("click", () => {
  softSkillCount++;

  const group = document.createElement("div");
  group.className = "hard-skill";
  group.innerHTML = `
    <input type="text" id="soft-skill${softSkillCount}" placeholder="e.g. Teamwork">
    <button type="button" class="remove-hard-skill"><img src="IMAGES/trash.svg" alt=""></button>
  `;

  softSkillsContainer.appendChild(group);

  document.getElementById(`soft-skill${softSkillCount}`).addEventListener("input", updateSkillsPreview);

  updateSkillsPreview();
});


// Delegate click events for removing skills
document.addEventListener("click", function (e) {
  if (e.target.closest(".remove-hard-skill")) {
    const skillGroup = e.target.closest(".hard-skill");
    if (skillGroup) {
      skillGroup.remove();
      updateSkillsPreview();
    }
  }

  if (e.target.closest(".remove-soft-skill")) {
    const skillGroup = e.target.closest(".skill-input-group");
    if (skillGroup) {
      skillGroup.remove();
      updateSkillsPreview();
    }
  }
});

function updateSkillsPreview() {
  // Hard Skills Preview
  const hardPreview = document.getElementById("hard-skills-preview");
  hardPreview.innerHTML = "<h4>Hard Skills</h4>";

  for (let i = 1; i <= hardSkillCount; i++) {
    const nameInput = document.getElementById(`hard-skill${i}`);
    const levelInput = document.getElementById(`hard-skill${i}-level`);

    if (nameInput && levelInput && nameInput.value.trim() !== "") {
      hardPreview.innerHTML += `
        <div class="skill-bar">
          <div class="skill-name">${nameInput.value}</div>
          <div class="bar">
            <div class="fill" style="width: ${levelInput.value}%"></div>
          </div>
        </div>
      `;
    }
  }

  // Soft Skills Preview
  const softPreview = document.getElementById("soft-skills-preview");
  softPreview.innerHTML = "<h4>Soft Skills</h4><ul>";

  for (let i = 1; i <= softSkillCount; i++) {
    const skillInput = document.getElementById(`soft-skill${i}`);
    if (skillInput && skillInput.value.trim() !== "") {
      softPreview.innerHTML += `<li>${skillInput.value}</li>`;
    }
  }

  softPreview.innerHTML += "</ul>";
}
   
  // ... your existing code above

  // --- Add this function at the bottom ---
  function setPlaceholdersInPreview() {
    // Only replace preview text with placeholders if the corresponding input is empty
    const name = `${get("firstName")} ${get("lastName")}`.trim();
    document.getElementById("preview-name").textContent = name || "YOUR NAME";

    const title = get("jobTitle").trim();
    document.getElementById("preview-title").textContent = title || "";

    const phone = get("phone");
    document.getElementById("preview-contact").textContent = phone || "+256 000 000";

    const email = get("email");
    document.getElementById("preview-email").textContent = email || "your.email@example.com";

    

    // document.getElementById("preview-expDescription").innerHTML = formatted;

    const summaryText = get("summary").trim();
    const summaryEl = document.getElementById("preview-summary-1");
    if (summaryEl) {
    summaryEl.textContent = summaryText || "Write a brief summary highlighting your experience, skills and goals.";
  }
}

  // Override your existing updatePreview() to use placeholders
  function updatePreview() {
    setPlaceholdersInPreview();
  }

  // Call it once on page load
  document.addEventListener('DOMContentLoaded', () => {
    showStep(currentStep);
    updatePreview();
  });


</script>
<script src="mk.js"></script>
<script src="etiquette.js"></script>
</body>
</html>


